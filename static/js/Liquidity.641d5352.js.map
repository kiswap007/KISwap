{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.string.repeat.js","webpack:///./src/views/liquidity/index.vue?8cd1","webpack:///./src/views/liquidity2/index.vue?d2c9","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/assets/image/trading/tra.png","webpack:///./src/assets/image/light/trading/tra.png","webpack:///./src/views/liquidity/index.vue","webpack:///./src/views/liquidity/index.vue?6050","webpack:///./src/views/liquidity2/index.vue","webpack:///./src/views/liquidity2/index.vue?4045"],"names":["$","repeat","target","proto","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","this","match","error","module","exports","class","src","alt","h1","h4","$t","Number","poolTotalLock","toFixed","isLp","toggleLP","poolPairList","item","islp","$tokenLogo","tokenA","themeMode","tokenB","lpAddresses","tokenSymbol","totalAllocPoint","allocPoint","totalMintDay","rate","usdt","blance","to","pid","components","IndexTop","setup","store","data","state","poolList","web3","provider","totalMint","address","accounts","poolAddress","config","getPoolReward","poolContract","eth","Contract","poolAbi","methods","then","result","console","log","getBlockNumber","block","kisPerBlock","startBlock","Math","pow","getRate","forEach","routerPathContract","routerPath","poolInfo","per","getLpSwapToken","tokenAddress","usdtAddress","lpUsdtAmount","getBestPathAmount","name","val","refData","render","__scopeId","poolAddress2","factoryContract","factoryAddress","getReserves","price","tokenAContract","lpContract","decimals","decimalsA","perUsdtA","reserveB","reserveA","tokenUsdt","balanceOf","totalSupply","totalply","lPdecimals"],"mappings":"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","file":"static/js/Liquidity.641d5352.js","sourcesContent":["var $ = require('../internals/export');\nvar repeat = require('../internals/string-repeat');\n\n// `String.prototype.repeat` method\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\n$({ target: 'String', proto: true }, {\n  repeat: repeat\n});\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=0b75ebb2&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./index.vue?vue&type=style&index=0&id=3fd0bcc6&lang=scss&scoped=true\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAuCAMAAABK1yqqAAABR1BMVEUAAAAXFCcXFCcXFCcXFCcXFCcXFCcXFCdQUF8XFCe1usIXFCcYFSjNzdMXFCfv8PPDxcsXFCcXFCcXFCcXFCcbGCu/xcwXFCcXFCcXFCcXFCff4+fs7fDj5uoXFCcXFCcXFCfFzNLh4+fa3uLq6+5QUF8XFCcXFCfU1doXFCfHztTw8vXEydDt7vLP0tjq7O+/w8lfYG4XFCdjZHKztr2amaPFzNLs7vHy8/bFy9Ld4eXV2d68w8m5v8bw8PTV2N3f4+e+xMuzucHd4OXr7PCjp7DX2N2an6iRlZ+KjpjS1tzs7fDj4+h2eISYnKbT1ttWV2VZWmjS09lISFfc3uLCxMs4N0jHx81fXWuurra5ucDIz9Xz9Pfh5Ojc4eXq7PDa3+Tx8vbZ3uPs7vLk5+vY3OHU2d7u8PPn6u7N09nW2+DR19zL0dfflMN3AAAAW3RSTlMAAgQIEEIqFmoh0jlOKQ2/KR4VJBoLzi0oRT7+wb81MRP10L+XZUk2Jxj96N7d07+bb1RPKBD59/Ht5+Tk29jWx8fEv7Oyqamej4aEd3VraF9bWEtFPTsyKyATJxZMKwAAAiFJREFUSMftlelvokAYhzuHdqmWOgOKd9VVqz223R573/d93zOAoFRt+/9/XmCg7Rc2zGaT/dIHCGSSJ7/J++YdFi6QAIT8hQa/bHWhtAngQXfiPChCIBv39d7YGpVaCMjFFV+ZNmOspKtQKu57xxmzQCQYSsShN9f5MQtFBcP0cft17jBBSaMIJiO6Fce9v2FZLKL9sF5vNFYCLte3Vx6HH+HT8K/t174ax/18Mp6zM8zZyD1mJ+aJa7MJm8zmzDtkVs1jljVirKZCIDz0aWN8yNJDi0B4XT6V8ZjoFoDqrTmTYVMUHSD8Y2/vQ+9SSnofv5FYJNlmNZOWarM8jLdKiVYuZ9NR1hQdo6g4KqZ0MS0UqyhuB4RIAnh+WoEEC/8V+a0K6WAwKCwXlgMK/l0oiPd+sBCtRkvBNfglZADR1sThNe5Ox5Zr1rjFbe5xfmRPue2ZpsO5aXOXz5yJ6/GRzfkGCk2AMB8xGXbEWEF1yGW0m+8IRqGIiYz46LNxKio7paU/0T7T2i8ra2U93qpuVPv5RHZ3N0+nfKkXeDgqTpEqRjOXSKZ/P9KuvehXV7VFNfCisdKJkoRm5K6Iot+9WsllSat47oxDqoqToMToHPna+vO8HzfEYqSE6avJIKoFiXfCOCri0hAUvWOuP81nVjVdxKUWybPbbys5Q6Fq+jjRrWxzTSpOAFCLaBoRcZJ/W0xbknFxtxAK4mT55yfUb2N4zDBWafwAAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAuCAMAAABK1yqqAAAAVFBMVEUAAAA1cUM5c0M6c0M6ckI5ckM5c0I5ckI5c0IzcUIwbkU5ckI5ckM5ckI5ckI5ckI5ckM5c0E5ckE4cEI1cEI1cj46c0I6ckI5c0I6c0I5dEI6c0N3ajJiAAAAG3RSTlMAIrvD7+fblH4RCfr1ya2NXU0+MiYd1NS8bWyJ4eMJAAAAj0lEQVRIx+3UNxLDMAADQSgwKicn/P+f7ihXmiEKFR5ev+2hdEurdQqLE9kIbntQgr6jAveBVOC7pwKPF6nAuWWqrS/zOAsjM0JqMZSgIzVo8pxNMFRZRZT+q1hlFRK0zMokyLycBs0CCY4BZ76+7HcqMzJqkqsPKLD/AAocdiiw84ACnxskOEUIObuidE9fvHUyodLllKIAAAAASUVORK5CYII=\"","<template>\r\n  <div class=\"page\">\r\n    <index-top \r\n      :h1=\"'KISwap'\"\r\n      :h4=\"$t('index.最具潜力的集DEX、IKO、DAO、聚合交易为一体的DEFI生态平台')\"></index-top>\r\n    <div class=\"top-total flex-center\">{{$t('liquidity.锁定的总值')}}<span><b>{{Number(poolTotalLock).toFixed(2)}}</b>USDT</span></div>\r\n    <div class=\"top-btns flex-center\">\r\n      <div class=\"btn\" @click=\"toggleLP\" :class=\"{'active': isLp}\">KIS LP</div>\r\n      <div class=\"btn\" @click=\"toggleLP\" :class=\"{'active': !isLp}\">{{$t('liquidity.单币种')}}</div>\r\n    </div>\r\n    <div class=\"list flex-wrap\">\r\n      <div class=\"item\" v-for=\"item in poolPairList\" v-show=\"item.islp == isLp\">\r\n        <div class=\"item-top flex-center\" v-if=\"item.islp\">\r\n          <img :src=\"$tokenLogo(item.tokenA)\" alt=\"\" class=\"icon-logo\">\r\n           <img src=\"@/assets/image/light/trading/tra.png\" alt=\"\" class=\"icon-tra\" v-if=\"themeMode === 'light'\">\r\n          <img src=\"@/assets/image/trading/tra.png\" alt=\"\" class=\"icon-tra\" v-else>\r\n          <img :src=\"$tokenLogo(item.tokenB)\" alt=\"\" class=\"icon-logo\">\r\n        </div>\r\n        <div class=\"item-top flex-center\" v-else>\r\n          <img :src=\"$tokenLogo(item.lpAddresses)\" alt=\"\" class=\"icon-logo\">\r\n        </div>\r\n        <div class=\"item-tit\">{{item.tokenSymbol}}</div>\r\n        <template v-if=\"item.islp\">\r\n          <div class=\"item-info\">\r\n            <!-- <p>每天赚取美元<br>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay / totalAllocPoint / rate).toFixed(4) : 0}}</p> -->\r\n            <!-- <p>每月赚取美元<br>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay / totalAllocPoint / rate).toFixed(4) : 0}}</p> -->\r\n            <!-- <span>年利率      {{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay * 365/ totalAllocPoint / 28800 / rate).toFixed(2) : 0}}%</span> -->\r\n            <p>{{$t('liquidity.每月收益')}}<br>{{totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 / totalAllocPoint).toFixed(4) : 0}}SSC</p>\r\n            <!-- <p>一共{{rate && totalAllocPoint? Number(item.allocPoint * totalMint / totalAllocPoint / rate).toFixed(4) : 0}}USDT</p> -->\r\n          </div>\r\n          <div class=\"item-lv text-between\">\r\n            <span>tvl</span>\r\n            <span>${{rate && item.usdt ? Number(item.usdt).toFixed(4) : 0}}</span>\r\n          </div>\r\n          <div class=\"item-lv text-between\">\r\n            <span>APY</span>\r\n            <span>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 * 12 / totalAllocPoint / 28800).toFixed(2) : 0}}%</span>\r\n          </div>\r\n          <div class=\"item-lv text-between\">\r\n            <span>{{$t('liquidity.总锁币')}}</span>\r\n            <span>{{item.blance ? Number(item.blance).toFixed(4) : 0}}{{item.tokenSymbol}}</span>\r\n          </div>\r\n        </template>\r\n        <template v-else>\r\n          <div class=\"item-info\">\r\n            <p>{{$t('liquidity.每月收益')}}<br>{{totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 / totalAllocPoint).toFixed(4) : 0}}SSC</p>\r\n            <!-- <p>{{$t('liquidity.总锁币')}}<br>{{rate && totalAllocPoint? Number(item.allocPoint * totalMint / totalAllocPoint / rate).toFixed(4) : 0}}USDT</p> -->\r\n            <!-- <p>{{$t('liquidity.每月赚取KIS')}}<br>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 / totalAllocPoint).toFixed(4) : 0}}</p> -->\r\n            <!-- <p>{{rate && totalAllocPoint? Number(item.allocPoint * totalMint / totalAllocPoint / rate).toFixed(4) : 0}}USDT</p> -->\r\n          </div>\r\n          <div class=\"item-lv text-between\">\r\n            <span>tvl</span>\r\n            <span>${{item.usdt ? Number(item.usdt).toFixed(4) : 0}}</span>\r\n          </div>\r\n          <div class=\"item-lv text-between\">\r\n            <span>APY</span>\r\n            <span>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 * 12 / totalAllocPoint / 28800).toFixed(2) : 0}}%</span>\r\n          </div>\r\n          <div class=\"item-lv text-between\">\r\n            <span>{{$t('liquidity.总锁币')}}</span>\r\n            <span>{{item.blance ? Number(item.blance).toFixed(4) : 0}}{{item.tokenSymbol}}</span>\r\n          </div>\r\n        </template>\r\n        <router-link class=\"btn\" :to=\"{name: 'LiquidityPool', params: {pid: item.pid}}\">{{$t('liquidity.选择')}}</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport IndexTop from \"@/views/index/IndexTop\";\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport poolAbi from \"@/utils/poolAbi\";\r\nimport {useStore} from \"vuex\";\r\nimport factoryAbi from \"@/utils/FactoryAbi\";\r\nimport poolList from \"@/utils/poolList\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport RouterPathAbi from \"@/utils/routerPathAbi\";\r\nimport config from \"@/utils/config\";\r\nexport default {\r\n  components: {\r\n    IndexTop\r\n  },\r\n  setup () {\r\n     const store = useStore();\r\n     const data = reactive({\r\n       themeMode: computed(() => store.state.themeMode),\r\n       poolPairList: poolList,\r\n       rate: computed(() => store.state.rate),\r\n       web3: computed(() => store.state.provider),\r\n       poolTotalLock: 0,\r\n       totalAllocPoint: 0,\r\n       totalMintDay: 0,\r\n       totalMint: 0,\r\n       address: computed(() => store.state.accounts[0]),\r\n       poolAddress: config.poolAddress,\r\n       isLp: true,\r\n       toggleLP: () => {\r\n         data.isLp = !data.isLp\r\n       },\r\n       getPoolReward: () => {\r\n         let poolContract = new data.web3.eth.Contract(poolAbi, data.poolAddress)\r\n         poolContract.methods.totalAllocPoint().call().then((result) => {\r\n           data.totalAllocPoint = result\r\n           console.log('totalAllocPoint',result)\r\n         })\r\n         data.web3.eth.getBlockNumber().then((block) => {\r\n            poolContract.methods.kisPerBlock().call().then(async (result) => {\r\n              let startBlock = await poolContract.methods.startBlock().call()\r\n              data.totalMint = (block - startBlock) * result / Math.pow(10, 18)\r\n              data.totalMintDay = result * 28800 / Math.pow(10, 18)\r\n              console.log(data.totalMintDay)\r\n            })\r\n         })\r\n       },\r\n        getRate: () => {\r\n         data.poolPairList.forEach(async (item) => {\r\n             let routerPathContract = new data.web3.eth.Contract(RouterPathAbi, config.routerPath)\r\n             let poolContract = new data.web3.eth.Contract(poolAbi, data.poolAddress)\r\n             let poolInfo = await poolContract.methods.poolInfo(item.pid).call()\r\n           if (item.islp) {\r\n              console.log(poolInfo[5], 'poolInfo[5]-----')\r\n              let per = 1 + '0'.repeat(18)\r\n              let lpUsdtAmount = await routerPathContract.methods.getLpSwapToken(item.tokenAddress,per,config.usdtAddress).call()\r\n              item.usdt = poolInfo[5] * lpUsdtAmount / per / 10**18\r\n              data.poolTotalLock = data.poolTotalLock + item.usdt\r\n              item.blance = poolInfo[5]/10**18\r\n             // let price = await factoryContract.methods.getReserves(item.tokenA, config.usdtAddress).call()\r\n              // let tokenAContract = new data.web3.eth.Contract(tokenAbi, item.tokenA)\r\n              // let lpContract = new data.web3.eth.Contract(tokenAbi, item.lpAddresses)\r\n              // factoryContract.methods.getReserves(item.tokenA, item.tokenB).call().then( async (result) => {\r\n              //   let decimalsA = await tokenAContract.methods.decimals().call()\r\n              //   // let decimalsB = await tokenBContract.methods.decimals().call()\r\n              //   let perUsdtA = price.reserveB * Math.pow(10, decimalsA - 10) / price.reserveA\r\n              //   let tokenUsdt = result.reserveA / Math.pow(10, decimalsA) / perUsdtA\r\n              //   item.usdt = tokenUsdt * 2\r\n              //   let blance = await lpContract.methods.balanceOf(data.poolAddress).call()\r\n              //   let totalply = await lpContract.methods.totalSupply().call()\r\n              //   item.usdt = item.usdt * (blance/totalply) * 10000;\r\n              //   data.poolTotalLock = data.poolTotalLock + item.usdt\r\n              // })\r\n           } else {\r\n              let per = 1 + '0'.repeat(18)\r\n              let lpUsdtAmount = await routerPathContract.methods.getBestPathAmount(item.tokenAddress,config.usdtAddress, per).call()\r\n              console.log(poolInfo[5]/10**18, '-----' + item.name)\r\n              item.usdt = poolInfo[5] * lpUsdtAmount/ per / 10**18\r\n              data.poolTotalLock = data.poolTotalLock + item.usdt\r\n              item.blance = poolInfo[5]/10**18\r\n           }\r\n         });\r\n       },\r\n      //  getRate: () => {\r\n      //    data.poolPairList.forEach(async (item) => {\r\n      //     //  console.log(item)\r\n      //      if (item.islp) {\r\n      //         let factoryContract = new data.web3.eth.Contract(factoryAbi, config.factoryAddress)\r\n      //         let price = await factoryContract.methods.getReserves(item.tokenA, config.usdtAddress).call()\r\n      //         let tokenAContract = new data.web3.eth.Contract(tokenAbi, item.tokenA)\r\n      //         let lpContract = new data.web3.eth.Contract(tokenAbi, item.lpAddresses)\r\n      //         factoryContract.methods.getReserves(item.tokenA, item.tokenB).call().then( async (result) => {\r\n      //           let decimalsA = await tokenAContract.methods.decimals().call()\r\n      //           // let decimalsB = await tokenBContract.methods.decimals().call()\r\n      //           let perUsdtA = price.reserveB * Math.pow(10, decimalsA - 10) / price.reserveA\r\n      //           let tokenUsdt = result.reserveA / Math.pow(10, decimalsA) / perUsdtA\r\n      //           item.usdt = tokenUsdt * 2\r\n      //           let blance = await lpContract.methods.balanceOf(data.poolAddress).call()\r\n      //           let totalply = await lpContract.methods.totalSupply().call()\r\n      //           item.usdt = item.usdt * (blance/totalply) * 10000;\r\n      //           data.poolTotalLock = data.poolTotalLock + item.usdt\r\n      //         })\r\n      //      } else {\r\n      //         let lpContract = new data.web3.eth.Contract(tokenAbi, item.lpAddresses)\r\n      //         let blance = await lpContract.methods.balanceOf(data.poolAddress).call()\r\n      //          let lPdecimals = await lpContract.methods.decimals().call()\r\n  \r\n      //         item.blance = blance / Math.pow(10, lPdecimals)\r\n      //        let factoryContract = new data.web3.eth.Contract(factoryAbi, config.factoryAddress)\r\n      //        let price;\r\n      //        try {\r\n      //          price = await factoryContract.methods.getReserves(item.lpAddresses, config.usdtAddress).call()\r\n      //         let perUsdtA = price.reserveB * Math.pow(10, lPdecimals - 10) / price.reserveA\r\n      //         let tokenUsdt = blance / Math.pow(10, lPdecimals) / perUsdtA\r\n      //         item.usdt = tokenUsdt * 10000\r\n      //        } catch (error) {\r\n      //          console.log('blance----', blance)\r\n      //          item.usdt = blance / Math.pow(10, lPdecimals) * 10000;\r\n      //        }\r\n      //        data.poolTotalLock = data.poolTotalLock + item.usdt\r\n      //      }\r\n      //    });\r\n      //  }\r\n     })\r\n     if (data.address) {\r\n        data.getPoolReward()\r\n        data.getRate()\r\n     }\r\n     watch(() => data.address, (val) => {\r\n       if (val) {\r\n         data.getPoolReward()\r\n         data.getRate()\r\n       }\r\n     })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.top-total {\r\n  width: 700px;\r\n  height: 114px;\r\n  margin: 33px auto 31px;\r\n  background: url('~@/assets/image/liquidity/border1.png') no-repeat 0 0;\r\n  background-size: 100% 100%;\r\n  font-size: 22px;\r\n  color: #DFE0E2;\r\n  b {\r\n    font-size: 30px;\r\n    margin: 0 9px 0 22px;\r\n  }\r\n}\r\n.top-btns {\r\n  margin: 0 0 34px 0;\r\n  .btn {\r\n    width: 338px;\r\n    height: 62px;\r\n    margin: 0 13px;\r\n    background: url('~@/assets/image/liquidity/btn_bg1_dis.png') no-repeat 0 0;\r\n    background-size: 100% 100%;\r\n    font-size: 16px;\r\n    color: #AAB0B5;\r\n    font-weight: bold;\r\n    line-height: 62px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    &.active {\r\n      color: #fff;\r\n      background-image: url('~@/assets/image/liquidity/btn_bg1.png');\r\n    }\r\n  }\r\n}\r\n.list {\r\n  max-width:1080px;\r\n  min-height: 495px;\r\n  margin: auto;\r\n  .item {\r\n    width: 360px;\r\n    min-height: 380px;\r\n    background: url('~@/assets/image/liquidity/border2.png') no-repeat 0 0;\r\n    background-size: 100% 100%;\r\n    padding: 55px 45px 40px;\r\n    color: #E9E9E9;\r\n    .item-top {\r\n      .icon-logo {\r\n        width: 48px;\r\n        height: 48px;\r\n        border-radius: 50%;\r\n      }\r\n      .icon-tra {\r\n        width: 30px;\r\n        margin: 0 21px;\r\n      }\r\n    }\r\n    .item-tit {\r\n      font-size: 22px;\r\n      color: #E9E9E9;\r\n      text-align: center;\r\n      line-height: 1;\r\n      font-weight: bold;\r\n      margin: 25px 0 5px;\r\n    }\r\n    .item-info {\r\n      font-size: 15px;\r\n      line-height: 26px;\r\n      text-align: center;\r\n    }\r\n    .item-lv {\r\n      font-size: 16px;\r\n      color: #FFC600;\r\n      margin-top: 10px;\r\n    }\r\n    .btn {\r\n      display: block;\r\n      height: 58px;\r\n      background: url('~@/assets/image/liquidity/btn_bg2.png') no-repeat 0 0;\r\n      background-size: 100% 100%;\r\n      margin-top: 10px;\r\n      text-align: center;\r\n      line-height: 58px;\r\n      font-size: 17px;\r\n      font-weight: bold;\r\n      cursor: pointer;\r\n      transition: all 0.3s;\r\n      color: #fff !important;\r\n      &:hover {\r\n        background-image: url('~@/assets/image/liquidity/btn_bg3.png');\r\n      }\r\n    }\r\n  }\r\n}\r\n.theme-light {\r\n  .top-total {\r\n    background-image: url('~@/assets/image/light/liquidity/border1.png');\r\n    color: #666666;\r\n    b {\r\n      color: #333;\r\n    }\r\n  }\r\n  .top-btns {\r\n    .btn {\r\n      background-image: url('~@/assets/image/light/liquidity/btn_bg1_dis.png');\r\n      color: #88A78D;\r\n      &.active {\r\n        color: #3A7343;\r\n        background-image: url('~@/assets/image/light/liquidity/btn_bg1.png');\r\n      }\r\n    }\r\n  }\r\n  .list {\r\n    .item {\r\n      background-image: url('~@/assets/image/light/liquidity/border2.png');\r\n      color: #333;\r\n      .item-tit {\r\n        color: #333;\r\n      }\r\n      .item-lv {\r\n        color: #3A7343;\r\n      }\r\n      .btn {\r\n        background-image: url('~@/assets/image/light/liquidity/btn_bg2.png');\r\n        color: #3A7343 !important;\r\n        &:hover {\r\n          color: #AD7805 !important;\r\n          background-image: url('~@/assets/image/light/liquidity/btn_bg3.png');\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (max-width: 480px) {\r\n  .top-total {\r\n    width: 95%;\r\n    height: 80px;\r\n    flex-direction: column;\r\n    font-size: 14px;\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n    b {\r\n      font-size: 20px;\r\n    }\r\n  }\r\n  .top-btns {\r\n    margin-bottom: 24px;\r\n    .btn {\r\n      height: 44px;\r\n      line-height: 44px;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n  .list {\r\n    margin: 0 12px;\r\n    min-height: auto;\r\n    .item {\r\n      width: 50%;\r\n      min-height: auto;\r\n      padding: 30px 18px 27px;\r\n      .item-top {\r\n        .icon-logo {\r\n          width: 30px;\r\n          height: 30px;\r\n        }\r\n        .icon-tra {\r\n          width: 20px;\r\n          margin: 0 10px;\r\n        }\r\n      }\r\n      .item-tit {\r\n        font-size: 16px;\r\n        margin: 12px 0 5px;\r\n      }\r\n      .item-info {\r\n        font-size: 12px;\r\n        line-height: 20px;\r\n      }\r\n      .item-lv {\r\n        font-size: 14px;\r\n        margin: 7px 0 0;\r\n      }\r\n      .btn {\r\n        height: 34px;\r\n        line-height: 34px;\r\n        font-size: 14px;\r\n        margin: 3px 0 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=0b75ebb2&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=0b75ebb2&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0b75ebb2\"\n\nexport default script","<template>\r\n  <div class=\"page\">\r\n    <index-top \r\n      :h1=\"'KISwap'\"\r\n      :h4=\"$t('index.最具潜力的集DEX、IKO、DAO、聚合交易为一体的DEFI生态平台')\"></index-top>\r\n    <div class=\"top-total flex-center\">{{$t('liquidity.锁定的总值')}}<span><b>{{Number(poolTotalLock).toFixed(2)}}</b>USDT</span></div>\r\n    <div class=\"top-btns flex-center\">\r\n      <div class=\"btn\" @click=\"toggleLP\" :class=\"{'active': isLp}\">KIS LP</div>\r\n      <div class=\"btn\" @click=\"toggleLP\" :class=\"{'active': !isLp}\">{{$t('liquidity.单币种')}}</div>\r\n    </div>\r\n    <div class=\"list flex-wrap\">\r\n      <div class=\"item\" v-for=\"item in poolPairList\" v-show=\"item.islp == isLp\">\r\n        <div class=\"item-top flex-center\" v-if=\"item.islp\">\r\n          <img :src=\"$tokenLogo(item.tokenA)\" alt=\"\" class=\"icon-logo\">\r\n           <img src=\"@/assets/image/light/trading/tra.png\" alt=\"\" class=\"icon-tra\" v-if=\"themeMode === 'light'\">\r\n          <img src=\"@/assets/image/trading/tra.png\" alt=\"\" class=\"icon-tra\" v-else>\r\n          <img :src=\"$tokenLogo(item.tokenB)\" alt=\"\" class=\"icon-logo\">\r\n        </div>\r\n        <div class=\"item-top flex-center\" v-else>\r\n          <img :src=\"$tokenLogo(item.lpAddresses)\" alt=\"\" class=\"icon-logo\">\r\n        </div>\r\n        <div class=\"item-tit\">{{item.tokenSymbol}}</div>\r\n        <template v-if=\"item.islp\">\r\n          <div class=\"item-info\">\r\n            <!-- <p>每天赚取美元<br>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay / totalAllocPoint / rate).toFixed(4) : 0}}</p> -->\r\n            <!-- <p>每月赚取美元<br>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay / totalAllocPoint / rate).toFixed(4) : 0}}</p> -->\r\n            <!-- <span>年利率      {{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay * 365/ totalAllocPoint / 28800 / rate).toFixed(2) : 0}}%</span> -->\r\n            <!-- <p>{{$t('liquidity.每月收益')}}<br>{{totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 / totalAllocPoint).toFixed(4) : 0}}SSC</p> -->\r\n            <!-- <p>一共{{rate && totalAllocPoint? Number(item.allocPoint * totalMint / totalAllocPoint / rate).toFixed(4) : 0}}USDT</p> -->\r\n          </div>\r\n          <!-- <div class=\"item-lv text-between\">\r\n            <span>tvl</span>\r\n            <span>${{rate && totalAllocPoint? Number(item.allocPoint * totalMint / totalAllocPoint / rate).toFixed(4) : 0}}</span>\r\n          </div> -->\r\n          <div class=\"item-lv text-between\">\r\n            <span>APR({{$t('liquidity.年化收益率')}})</span>\r\n            <span>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 / totalAllocPoint / 28800).toFixed(2) : 0}}%</span>\r\n          </div>\r\n        </template>\r\n        <template v-else>\r\n          <div class=\"item-info\">\r\n            <p>{{$t('liquidity.每月收益')}}<br>{{totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 / totalAllocPoint).toFixed(4) : 0}}SSC</p>\r\n            <!-- <p>{{$t('liquidity.总锁币')}}<br>{{rate && totalAllocPoint? Number(item.allocPoint * totalMint / totalAllocPoint / rate).toFixed(4) : 0}}USDT</p> -->\r\n            <!-- <p>{{$t('liquidity.每月赚取KIS')}}<br>{{rate && totalAllocPoint ? Number(item.allocPoint * totalMintDay * 30 / totalAllocPoint).toFixed(4) : 0}}</p> -->\r\n            <!-- <p>{{rate && totalAllocPoint? Number(item.allocPoint * totalMint / totalAllocPoint / rate).toFixed(4) : 0}}USDT</p> -->\r\n          </div>\r\n          <!-- <div class=\"item-lv text-between\">\r\n            <span>tvl</span>\r\n            <span>${{item.usdt ? Number(item.usdt).toFixed(4) : 0}}</span>\r\n          </div> -->\r\n          <div class=\"item-lv text-between\">\r\n            <span>{{$t('liquidity.总锁币')}}</span>\r\n            <span>{{item.blance ? Number(item.blance).toFixed(4) : 0}}{{item.tokenSymbol}}</span>\r\n          </div>\r\n        </template>\r\n        <router-link class=\"btn\" :to=\"{name: 'LiquidityPool2', params: {pid: item.pid}}\">{{$t('liquidity.选择')}}</router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport IndexTop from \"@/views/index/IndexTop\";\r\nimport { reactive, toRefs, computed, watch} from \"vue\";\r\nimport poolAbi from \"@/utils/poolAbi\";\r\nimport {useStore} from \"vuex\";\r\nimport factoryAbi from \"@/utils/FactoryAbi\";\r\nimport poolList from \"@/utils/poolList\";\r\nimport tokenAbi from \"@/utils/abi\";\r\nimport config from \"@/utils/config\";\r\nexport default {\r\n  components: {\r\n    IndexTop\r\n  },\r\n  setup () {\r\n     const store = useStore();\r\n     const data = reactive({\r\n       themeMode: computed(() => store.state.themeMode),\r\n       poolPairList: poolList,\r\n       rate: computed(() => store.state.rate),\r\n       web3: computed(() => store.state.provider),\r\n       poolTotalLock: 0,\r\n       totalAllocPoint: 0,\r\n       totalMintDay: 0,\r\n       totalMint: 0,\r\n       address: computed(() => store.state.accounts[0]),\r\n       poolAddress: config.poolAddress2,\r\n       isLp: true,\r\n       toggleLP: () => {\r\n         data.isLp = !data.isLp\r\n       },\r\n       getPoolReward: () => {\r\n         let poolContract = new data.web3.eth.Contract(poolAbi, data.poolAddress)\r\n         poolContract.methods.totalAllocPoint().call().then((result) => {\r\n           data.totalAllocPoint = result\r\n           console.log('totalAllocPoint',result)\r\n         })\r\n         data.web3.eth.getBlockNumber().then((block) => {\r\n            poolContract.methods.kisPerBlock().call().then(async (result) => {\r\n              let startBlock = await poolContract.methods.startBlock().call()\r\n              data.totalMint = (block - startBlock) * result / Math.pow(10, 18)\r\n              data.totalMintDay = result * 28800 / Math.pow(10, 18)\r\n              console.log(data.totalMintDay)\r\n            })\r\n         })\r\n       },\r\n       getRate: () => {\r\n         data.poolPairList.forEach(async (item) => {\r\n          //  console.log(item)\r\n           if (item.islp) {\r\n              let factoryContract = new data.web3.eth.Contract(factoryAbi, config.factoryAddress)\r\n              let price = await factoryContract.methods.getReserves(item.tokenA, config.usdtAddress).call()\r\n              let tokenAContract = new data.web3.eth.Contract(tokenAbi, item.tokenA)\r\n              let lpContract = new data.web3.eth.Contract(tokenAbi, item.lpAddresses)\r\n              factoryContract.methods.getReserves(item.tokenA, item.tokenB).call().then( async (result) => {\r\n                let decimalsA = await tokenAContract.methods.decimals().call()\r\n                // let decimalsB = await tokenBContract.methods.decimals().call()\r\n                let perUsdtA = price.reserveB * Math.pow(10, decimalsA - 10) / price.reserveA\r\n                let tokenUsdt = result.reserveA / Math.pow(10, decimalsA) / perUsdtA\r\n                item.usdt = tokenUsdt * 2\r\n                let blance = await lpContract.methods.balanceOf(data.poolAddress).call()\r\n                let totalply = await lpContract.methods.totalSupply().call()\r\n                item.usdt = item.usdt * (blance/totalply);\r\n                data.poolTotalLock = data.poolTotalLock + item.usdt\r\n              })\r\n           } else {\r\n              let lpContract = new data.web3.eth.Contract(tokenAbi, item.lpAddresses)\r\n              let blance = await lpContract.methods.balanceOf(data.poolAddress).call()\r\n               let lPdecimals = await lpContract.methods.decimals().call()\r\n  \r\n              item.blance = blance / Math.pow(10, lPdecimals)\r\n             let factoryContract = new data.web3.eth.Contract(factoryAbi, config.factoryAddress)\r\n             let price;\r\n             try {\r\n               price = await factoryContract.methods.getReserves(item.lpAddresses, config.usdtAddress).call()\r\n              let perUsdtA = price.reserveB * Math.pow(10, lPdecimals - 10) / price.reserveA\r\n              let tokenUsdt = blance / Math.pow(10, lPdecimals) / perUsdtA\r\n              item.usdt = tokenUsdt\r\n             } catch (error) {\r\n               console.log('blance----', blance)\r\n               item.usdt = blance / Math.pow(10, lPdecimals);\r\n             }\r\n             data.poolTotalLock = data.poolTotalLock + item.usdt\r\n           }\r\n         });\r\n       }\r\n     })\r\n     if (data.address) {\r\n        data.getPoolReward()\r\n        data.getRate()\r\n     }\r\n     watch(() => data.address, (val) => {\r\n       if (val) {\r\n         data.getPoolReward()\r\n         data.getRate()\r\n       }\r\n     })\r\n    const refData = toRefs(data);\r\n    return {\r\n      ...refData\r\n    };\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.top-total {\r\n  width: 700px;\r\n  height: 114px;\r\n  margin: 33px auto 31px;\r\n  background: url('~@/assets/image/liquidity/border1.png') no-repeat 0 0;\r\n  background-size: 100% 100%;\r\n  font-size: 22px;\r\n  color: #DFE0E2;\r\n  b {\r\n    font-size: 30px;\r\n    margin: 0 9px 0 22px;\r\n  }\r\n}\r\n.top-btns {\r\n  margin: 0 0 34px 0;\r\n  .btn {\r\n    width: 338px;\r\n    height: 62px;\r\n    margin: 0 13px;\r\n    background: url('~@/assets/image/liquidity/btn_bg1_dis.png') no-repeat 0 0;\r\n    background-size: 100% 100%;\r\n    font-size: 16px;\r\n    color: #AAB0B5;\r\n    font-weight: bold;\r\n    line-height: 62px;\r\n    text-align: center;\r\n    cursor: pointer;\r\n    &.active {\r\n      color: #fff;\r\n      background-image: url('~@/assets/image/liquidity/btn_bg1.png');\r\n    }\r\n  }\r\n}\r\n.list {\r\n  max-width:1080px;\r\n  min-height: 495px;\r\n  margin: auto;\r\n  .item {\r\n    width: 360px;\r\n    min-height: 380px;\r\n    background: url('~@/assets/image/liquidity/border2.png') no-repeat 0 0;\r\n    background-size: 100% 100%;\r\n    padding: 55px 45px 40px;\r\n    color: #E9E9E9;\r\n    .item-top {\r\n      .icon-logo {\r\n        width: 48px;\r\n        height: 48px;\r\n        border-radius: 50%;\r\n      }\r\n      .icon-tra {\r\n        width: 30px;\r\n        margin: 0 21px;\r\n      }\r\n    }\r\n    .item-tit {\r\n      font-size: 22px;\r\n      color: #E9E9E9;\r\n      text-align: center;\r\n      line-height: 1;\r\n      font-weight: bold;\r\n      margin: 25px 0 5px;\r\n    }\r\n    .item-info {\r\n      font-size: 15px;\r\n      line-height: 26px;\r\n      text-align: center;\r\n    }\r\n    .item-lv {\r\n      font-size: 16px;\r\n      color: #FFC600;\r\n      margin-top: 10px;\r\n    }\r\n    .btn {\r\n      display: block;\r\n      height: 58px;\r\n      background: url('~@/assets/image/liquidity/btn_bg2.png') no-repeat 0 0;\r\n      background-size: 100% 100%;\r\n      margin-top: 10px;\r\n      text-align: center;\r\n      line-height: 58px;\r\n      font-size: 17px;\r\n      font-weight: bold;\r\n      cursor: pointer;\r\n      transition: all 0.3s;\r\n      color: #fff !important;\r\n      &:hover {\r\n        background-image: url('~@/assets/image/liquidity/btn_bg3.png');\r\n      }\r\n    }\r\n  }\r\n}\r\n.theme-light {\r\n  .top-total {\r\n    background-image: url('~@/assets/image/light/liquidity/border1.png');\r\n    color: #666666;\r\n    b {\r\n      color: #333;\r\n    }\r\n  }\r\n  .top-btns {\r\n    .btn {\r\n      background-image: url('~@/assets/image/light/liquidity/btn_bg1_dis.png');\r\n      color: #88A78D;\r\n      &.active {\r\n        color: #3A7343;\r\n        background-image: url('~@/assets/image/light/liquidity/btn_bg1.png');\r\n      }\r\n    }\r\n  }\r\n  .list {\r\n    .item {\r\n      background-image: url('~@/assets/image/light/liquidity/border2.png');\r\n      color: #333;\r\n      .item-tit {\r\n        color: #333;\r\n      }\r\n      .item-lv {\r\n        color: #3A7343;\r\n      }\r\n      .btn {\r\n        background-image: url('~@/assets/image/light/liquidity/btn_bg2.png');\r\n        color: #3A7343 !important;\r\n        &:hover {\r\n          color: #AD7805 !important;\r\n          background-image: url('~@/assets/image/light/liquidity/btn_bg3.png');\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n@media screen and (max-width: 480px) {\r\n  .top-total {\r\n    width: 95%;\r\n    height: 80px;\r\n    flex-direction: column;\r\n    font-size: 14px;\r\n    margin-top: 20px;\r\n    margin-bottom: 20px;\r\n    b {\r\n      font-size: 20px;\r\n    }\r\n  }\r\n  .top-btns {\r\n    margin-bottom: 24px;\r\n    .btn {\r\n      height: 44px;\r\n      line-height: 44px;\r\n      font-size: 16px;\r\n    }\r\n  }\r\n  .list {\r\n    margin: 0 12px;\r\n    min-height: auto;\r\n    .item {\r\n      width: 50%;\r\n      min-height: auto;\r\n      padding: 30px 18px 27px;\r\n      .item-top {\r\n        .icon-logo {\r\n          width: 30px;\r\n          height: 30px;\r\n        }\r\n        .icon-tra {\r\n          width: 20px;\r\n          margin: 0 10px;\r\n        }\r\n      }\r\n      .item-tit {\r\n        font-size: 16px;\r\n        margin: 12px 0 5px;\r\n      }\r\n      .item-info {\r\n        font-size: 12px;\r\n        line-height: 20px;\r\n      }\r\n      .item-lv {\r\n        font-size: 14px;\r\n        margin: 7px 0 0;\r\n      }\r\n      .btn {\r\n        height: 34px;\r\n        line-height: 34px;\r\n        font-size: 14px;\r\n        margin: 3px 0 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./index.vue?vue&type=template&id=3fd0bcc6&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=3fd0bcc6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-3fd0bcc6\"\n\nexport default script"],"sourceRoot":""}