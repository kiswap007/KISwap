(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Ieo"],{3942:function(e,t,n){},6481:function(e){e.exports=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"user","type":"address"},{"indexed":false,"internalType":"uint256","name":"amount","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"time","type":"uint256"}],"name":"InvestLog","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"inputs":[{"internalType":"address","name":"_token","type":"address"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"name":"getToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"haveBuyAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"invest","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"maxnum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"minnum","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"price","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"receiveAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_maxnum","type":"uint256"}],"name":"setMaxnum","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_minnum","type":"uint256"}],"name":"setMinnum","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"_price","type":"uint256"}],"name":"setPrice","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_receiveAddress","type":"address"}],"name":"setReceiveAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_tokenAddress","type":"address"}],"name":"setTokenAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"_usdtAddress","type":"address"}],"name":"setUsdtAddress","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"tokenAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalAmount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"usdtAddress","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"userCount","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}]')},"6ef0":function(e,t,n){"use strict";n("3942")},ac271:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),i=Object(a["withScopeId"])("data-v-ae79fb3e");Object(a["pushScopeId"])("data-v-ae79fb3e");var s={class:"page"},u={class:"form-block"},o={class:"cell-row flex-middle"},r={class:"label"},p={class:"flex-item cont"},c={class:"cell-msg"},d={class:"form-btn"},l=Object(a["createVNode"])("div",{class:"info-box flex-between"},[Object(a["createVNode"])("div",{class:"num"},"已抢60000.00KIS"),Object(a["createVNode"])("div",{class:"num"},"还剩0.00")],-1);Object(a["popScopeId"])();var y=i((function(e,t,n,i,y,m){var b=Object(a["resolveComponent"])("index-top");return Object(a["openBlock"])(),Object(a["createBlock"])("div",s,[Object(a["createVNode"])(b,{h1:"KISwap",h4:e.$t("index.集DEX、IKO、DAO、聚合交易为一体的DEFI生态平台")},null,8,["h4"]),Object(a["createVNode"])("div",u,[Object(a["createVNode"])("div",o,[Object(a["createVNode"])("div",r,Object(a["toDisplayString"])(e.project?e.project.symbol:"")+Object(a["toDisplayString"])(e.$t("index.数量")),1),Object(a["createVNode"])("div",p,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.amount=t}),placeholder:e.$t("ieo.请输入"),class:"input-style"},null,8,["placeholder"]),[[a["vModelText"],e.amount]])])]),Object(a["createVNode"])("div",c,Object(a["toDisplayString"])(e.$t("ieo.USDT数量",{num:e.kisAmount})),1),Object(a["createVNode"])("div",d,Object(a["toDisplayString"])(e.$t("ieo.已结束")),1),l])])})),m=(n("a9e3"),n("b680"),n("5530")),b=(n("96cf"),n("1da1")),f=n("4187"),v=n("6481"),w=n("901e"),O=n.n(w),j=n("722f"),h=n("5502"),T=n("9d56"),k=n("6c02"),x=n("ee10"),M=n("3fd4"),A=n("01ea"),g=n("47e2"),C={components:{IndexTop:f["a"]},setup:function(){var e=Object(h["b"])(),t=Object(k["c"])(),n=Object(g["b"])(),i=n.t,s=Object(a["reactive"])({$t:i,themeMode:Object(a["computed"])((function(){return e.state.themeMode})),rate:Object(a["computed"])((function(){return e.state.rate})),web3:Object(a["computed"])((function(){return e.state.provider})),address:Object(a["computed"])((function(){return e.state.accounts[0]})),ieoContract:null,tokenContract:null,kis:A["a"].kisAddress,tokenAllowance:0,amount:"",haveAmount:"",kisAmount:Object(a["computed"])((function(){return s.amount?Number(s.amount/2).toFixed(2):0})),id:t.params.id,project:null,initContract:function(){s.ieoContract=new s.web3.eth.Contract(v,A["a"].iko),s.tokenContract=new s.web3.eth.Contract(j,A["a"].usdtAddress),s.getTokenAllowance(),s.getInfo()},initWallet:function(){x["a"].initWeb3()},getTokenAllowance:function(){s.tokenContract.methods.allowance(s.address,A["a"].iko).call().then((function(e){s.tokenAllowance=e}))},approveToken:function(){s.tokenContract.methods.approve(A["a"].iko,T["a"]).send({from:s.address}).then((function(e){s.getTokenAllowance()}))},getInfo:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s.ieoContract.methods.haveBuyAmount().call();case 2:t=e.sent,s.haveAmount=new O.a(t).dividedBy(Math.pow(10,18)).toFixed();case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),swap:function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s.amount){e.next=3;break}return M["a"].error(s.$t("ieo.请输入兑换数量")),e.abrupt("return");case 3:return t=new s.web3.eth.Contract(j,A["a"].kisAddress),e.next=6,t.methods.decimals().call();case 6:return n=e.sent,a=new O.a(s.amount).multipliedBy(Math.pow(10,n)).toFixed(),e.next=10,s.ieoContract.methods.invest(a).send({from:s.address});case 10:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()});s.address&&s.initContract(),Object(a["watch"])((function(){return s.address}),(function(e){e&&s.initContract()}));var u=Object(a["toRefs"])(s);return Object(m["a"])({},u)}};n("6ef0");C.render=y,C.__scopeId="data-v-ae79fb3e";t["default"]=C}}]);
//# sourceMappingURL=Ieo.c8083dbb.js.map